{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\eranl\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\benefixMe\\\\frontend\\\\src\\\\cmp\\\\Search.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport '../style/css/search.css';\nimport { getByTitle, setFilter } from '../actions/FilterActions.js';\nexport class Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      val: ''\n    };\n\n    this.handleChange = async event => {\n      if (event.key !== 'Enter') {\n        this.setState({\n          val: event.target.value\n        });\n      }\n    };\n\n    this.onSearchAction = async event => {\n      if (event.key === 'Enter' || event.type === 'click') {\n        var res = this.state.val; // console.log(\"res234  -> \",res);            \n        // await this.setState({ val: '' });\n\n        await this.props.getByTitle(res);\n        await this.props.setFilter(res); // await console.log(\"filter\",this.props.coupons.filter) \n\n        this.props.history.push(`/coupon/results/${res}`);\n      }\n    };\n\n    this.onClean = async event => {\n      event.preventDefault();\n      await this.setState({\n        val: ''\n      });\n    };\n  }\n\n  async componentDidMount() {\n    await this.setState({\n      val: this.props.filter\n    });\n  }\n\n  render() {\n    let text = this.props.filter !== \"\" ? this.props.filter : this.state.val;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          dir: \"rtl\",\n          id: \"product\",\n          className: \"text-search\",\n          type: \"text\",\n          placeholder: \"איזו הטבה אתה מחפש?\",\n          value: this.state.val,\n          onChange: this.handleChange,\n          onKeyUp: this.onSearchAction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-search material-icons\",\n          onClick: this.onSearchAction,\n          children: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  coupons: state.coupons,\n  filter: state.coupons.filter\n});\n\nconst mapDispatchToProps = {\n  getByTitle,\n  setFilter\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Search));","map":{"version":3,"sources":["C:/Users/eranl/OneDrive/שולחן העבודה/benefixMe/frontend/src/cmp/Search.js"],"names":["React","Component","connect","withRouter","getByTitle","setFilter","Search","state","val","handleChange","event","key","setState","target","value","onSearchAction","type","res","props","history","push","onClean","preventDefault","componentDidMount","filter","render","text","mapStateToProps","coupons","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport '../style/css/search.css'\r\nimport {  getByTitle ,setFilter} from '../actions/FilterActions.js'\r\n\r\nexport class Search extends Component {\r\n\r\n    state = {\r\n        val: '',\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await this.setState({val:this.props.filter})\r\n      }\r\n\r\n    handleChange = async event => {\r\n        if (event.key !== 'Enter') {\r\n            this.setState({ val: event.target.value });\r\n        }\r\n    };\r\n\r\n    onSearchAction = async event => {\r\n\r\n        if (event.key === 'Enter' || event.type === 'click') {\r\n            var res = this.state.val;\r\n            // console.log(\"res234  -> \",res);            \r\n\r\n            // await this.setState({ val: '' });\r\n            \r\n            await this.props.getByTitle(res);\r\n            await this.props.setFilter(res);\r\n            // await console.log(\"filter\",this.props.coupons.filter) \r\n            this.props.history.push(`/coupon/results/${res}`);\r\n        }\r\n    };\r\n\r\n    onClean = async event =>{\r\n        event.preventDefault()\r\n        await this.setState({ val: '' });\r\n    }\r\n\r\n    render() {\r\n        let text = this.props.filter !== \"\" ? this.props.filter : this.state.val \r\n        return (\r\n            <div className=\"search\">\r\n                    <div  className='search-container'>\r\n                        <input dir=\"rtl\" id=\"product\" className='text-search' type='text' placeholder={\"איזו הטבה אתה מחפש?\"}\r\n                             value={this.state.val } onChange={this.handleChange} \r\n                             onKeyUp={this.onSearchAction}>\r\n                        </input>\r\n                        <button className=\"action-search material-icons\" onClick={this.onSearchAction}>search</button>\r\n                    </div>\r\n\r\n\r\n            </div >\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    coupons: state.coupons,\r\n    filter: state.coupons.filter,\r\n\r\n  });\r\n\r\nconst mapDispatchToProps = {\r\n    getByTitle,\r\n    setFilter\r\n  };\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps) (Search))"]},"metadata":{},"sourceType":"module"}