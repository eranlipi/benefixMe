{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\eranl\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\benefixMe\\\\frontend\\\\src\\\\pages\\\\Registration.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { signup, getClubsList } from '../actions/UserAction';\nimport LogIn from './LogIn';\nimport { GoogleLogin } from 'react-google-login';\nimport '../style/css/Registration.css';\nimport Select from '../cmp/Select';\n\nclass Registration extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      googleId: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      phone: \"\",\n      email: \"\",\n      password1: \"\",\n      password2: \"\",\n      selectedClubs: [],\n      clubs: [],\n      MatchingPasswords: true\n    };\n\n    this.getClubs = async () => {\n      await this.props.getClubsList();\n      await this.setState({\n        clubs: this.props.clubs\n      });\n    };\n\n    this.handleChange = async event => {\n      if (event.key !== 'Enter') {\n        switch (event.target.id) {\n          case \"firstName\":\n            this.setState({\n              firstName: event.target.value\n            });\n            break;\n\n          case \"lastName\":\n            this.setState({\n              lastName: event.target.value\n            });\n            break;\n\n          case \"phone\":\n            this.setState({\n              phone: event.target.value\n            });\n            break;\n\n          case \"email\":\n            this.setState({\n              email: event.target.value\n            });\n            break;\n\n          case \"password1\":\n            this.setState({\n              password1: event.target.value\n            });\n            console.log(\"111\", event.target);\n            break;\n\n          case \"password2\":\n            this.setState({\n              password2: event.target.value\n            });\n            break;\n\n          default:\n        }\n      }\n    };\n\n    this.onRegistration = async event => {\n      console.log(\" event.type \", event.type);\n\n      if (event.key === 'Enter' || event.type === 'click') {\n        let userString = { ...this.state\n        };\n        delete userString.clubs;\n        userString = JSON.stringify(this.state);\n        const user = JSON.parse(userString);\n\n        if (user.password1 === user.password2) {\n          if (user.firstName && user.lastName && user.password1 && user.email && user.phone) {\n            console.log(\"user\", user);\n            await this.props.signup(user);\n\n            if (this.props.loggedInUser !== null && this.props.loggedInUser.status === \"OK\") {\n              await this.props.history.push(`/`);\n            }\n          }\n        } else {\n          await this.setState({\n            MatchingPasswords: false\n          });\n          console.log(\"passwords!!!1\");\n        }\n      }\n    };\n\n    this.handleChangeSelected = async event => {\n      if (event.target.value !== \"-1\") {\n        let selectedObj = {};\n        selectedObj = this.props.clubs.filter(item => {\n          return item.name === event.target.value;\n        });\n        this.setState({\n          selectedClubs: [...this.state.selectedClubs, selectedObj[0]]\n        });\n        this.setState({\n          clubs: this.state.clubs.filter(item => {\n            return item.name !== event.target.value;\n          })\n        });\n      }\n    };\n\n    this.cencelSelecterClab = async event => {\n      this.setState({\n        selectedClubs: this.state.selectedClubs.filter(item => {\n          return item.name !== event.target.id;\n        })\n      });\n      let selectedObj = {};\n      selectedObj = this.props.clubs.filter(item => {\n        return item.name === event.target.id;\n      });\n      this.setState({\n        clubs: [...this.state.clubs, selectedObj[0]]\n      });\n    };\n\n    this.responseGoogle = response => {\n      this.setState(prevState => ({\n        googleId: response.profileObj.googleId,\n        firstName: response.profileObj.givenName,\n        lastName: response.profileObj.familyName,\n        email: response.profileObj.email\n      }));\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"comp -->> componentDidMount\");\n    this.getClubs();\n  }\n\n  render() {\n    let passwordclasses = \"\";\n    let passwordMess = \"\";\n\n    if (!this.state.MatchingPasswords) {\n      passwordclasses = \"error-password\";\n      passwordMess = \"password-messages\";\n    } else {\n      passwordclasses = \"inputs-singup\";\n      passwordMess = \"password-messages disply\";\n    }\n\n    console.log(passwordMess); // let passwordclasses = !this.state.MatchingPasswords ? \" error-password\" : \"inputs-singup\"  \n    // let x = 1 \n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-registration\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"head-registration\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u05E9\\u05DE\\u05D7\\u05D9\\u05DD \\u05DC\\u05D4\\u05DB\\u05D9\\u05E8 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"registration-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs-singup\",\n          id: \"firstName\",\n          type: \"text\",\n          placeholder: \"שם פרטי\",\n          value: this.state.firstName,\n          onChange: this.handleChange,\n          onKeyUp: this.onRegistration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs-singup\",\n          id: \"lastName\",\n          type: \"text\",\n          placeholder: \"שם משפחה\",\n          value: this.state.lastName,\n          onChange: this.handleChange,\n          onKeyUp: this.onRegistration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs-singup\",\n          id: \"phone\",\n          type: \"text\",\n          placeholder: \"טלפון סלולרי\",\n          value: this.state.phone,\n          onChange: this.handleChange,\n          onKeyUp: this.onRegistration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs-singup\",\n          id: \"email\",\n          type: \"text\",\n          placeholder: \"מייל\",\n          value: this.state.email,\n          onChange: this.handleChange,\n          onKeyUp: this.onRegistration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password-cont\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: passwordclasses,\n            id: \"password1\",\n            type: \"password\",\n            placeholder: \"סיסמה\",\n            value: this.state.password1,\n            onChange: this.handleChange,\n            onKeyUp: this.onRegistration\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: passwordclasses,\n            id: \"password2\",\n            type: \"password\",\n            placeholder: \"סיסמה\",\n            value: this.state.password2,\n            onChange: this.handleChange,\n            onKeyUp: this.onRegistration\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: passwordMess,\n            children: \" \\u05D4\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4 \\u05DC\\u05D0 \\u05D6\\u05D4\\u05D4 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn\",\n          onClick: this.onRegistration,\n          children: \"\\u05D4\\u05E8\\u05E9\\u05DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loggedInUser: state.user.loggedInUser,\n  clubs: state.user.clubs\n});\n\nconst mapDispatchToProps = {\n  signup,\n  getClubsList\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Registration));","map":{"version":3,"sources":["C:/Users/eranl/OneDrive/שולחן העבודה/benefixMe/frontend/src/pages/Registration.js"],"names":["React","Component","connect","withRouter","signup","getClubsList","LogIn","GoogleLogin","Select","Registration","state","googleId","firstName","lastName","phone","email","password1","password2","selectedClubs","clubs","MatchingPasswords","getClubs","props","setState","handleChange","event","key","target","id","value","console","log","onRegistration","type","userString","JSON","stringify","user","parse","loggedInUser","status","history","push","handleChangeSelected","selectedObj","filter","item","name","cencelSelecterClab","responseGoogle","response","prevState","profileObj","givenName","familyName","componentDidMount","render","passwordclasses","passwordMess","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { signup ,getClubsList} from '../actions/UserAction';\r\nimport LogIn from './LogIn'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport '../style/css/Registration.css'\r\nimport Select from '../cmp/Select'\r\n\r\n class Registration extends Component{\r\n\r\n     \r\n     // componentWillUnmount() {\r\n         //     console.log(\"componentWillUnmount\")\r\n         // }\r\n         \r\n    state= {\r\n        \r\n        googleId:\"\",\r\n        firstName:\"\", \r\n        lastName:\"\",\r\n        phone:\"\",\r\n        email:\"\",\r\n        password1:\"\",\r\n        password2:\"\",\r\n        selectedClubs:[],\r\n        clubs:[],\r\n        MatchingPasswords:true\r\n        \r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"comp -->> componentDidMount\")\r\n            this.getClubs()\r\n    }\r\n\r\n\r\n    getClubs = async ()  =>{\r\n            await this.props.getClubsList()\r\n            await this.setState({ clubs: this.props.clubs });\r\n    }\r\n    handleChange = async event => {\r\n        if (event.key !== 'Enter') {\r\n            switch(event.target.id) {\r\n                case \"firstName\":\r\n                   this.setState({ firstName: event.target.value });\r\n                break;\r\n\r\n                case \"lastName\":\r\n                    this.setState({ lastName: event.target.value });\r\n                break;\r\n\r\n                case \"phone\":\r\n                this.setState({ phone: event.target.value });\r\n                break;\r\n\r\n                case \"email\":\r\n                    this.setState({ email: event.target.value });\r\n                break;\r\n\r\n                case \"password1\":\r\n                    this.setState({ password1: event.target.value });\r\n                    console.log(\"111\",event.target)\r\n                break;\r\n\r\n                case \"password2\":\r\n                    this.setState({ password2: event.target.value });\r\n                break;\r\n                default:\r\n\r\n              }\r\n        }\r\n\r\n    };\r\n\r\n    onRegistration = async event => {\r\n        console.log(\" event.type \", event.type )\r\n        if (event.key === 'Enter' || event.type === 'click') {\r\n            let  userString = {...(this.state)};\r\n            delete userString.clubs\r\n             \r\n            userString  = JSON.stringify(this.state);\r\n            const  user  = JSON.parse(userString);\r\n            if (user.password1 === user.password2){\r\n\r\n                if (user.firstName && user.lastName && user.password1 && user.email && user.phone ) {\r\n                    console.log(\"user\",user)\r\n                    await this.props.signup(user);\r\n                    if (this.props.loggedInUser !== null && this.props.loggedInUser.status === \"OK\"){\r\n                        await this.props.history.push(`/`);\r\n                    }\r\n                }\r\n            }else{\r\n               await  this.setState({MatchingPasswords:false});\r\n               console.log(\"passwords!!!1\")\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChangeSelected = async event => {\r\n        if (event.target.value !== \"-1\"){\r\n\r\n            let selectedObj  = {}\r\n            selectedObj = this.props.clubs.filter(item =>{\r\n                return item.name === event.target.value\r\n            })\r\n            this.setState({ selectedClubs: [...this.state.selectedClubs, selectedObj[0]] }) \r\n            this.setState({\r\n                clubs: this.state.clubs.filter(item =>{ \r\n                    return  item.name !== event.target.value\r\n                })\r\n            })\r\n        }\r\n    }\r\n    \r\n    cencelSelecterClab = async event => {\r\n        \r\n        this.setState({\r\n            selectedClubs: this.state.selectedClubs.filter(item =>{ \r\n               return  item.name !== event.target.id\r\n             })\r\n          })\r\n        \r\n        let selectedObj  = {}\r\n        selectedObj = this.props.clubs.filter(item =>{\r\n            return item.name === event.target.id\r\n        })\r\n        this.setState({ clubs: [...this.state.clubs, selectedObj[0]] }) \r\n\r\n    }\r\n\r\n\r\n    responseGoogle = (response) => {\r\n        this.setState(prevState => ({\r\n            googleId:response.profileObj.googleId,\r\n            firstName:response.profileObj.givenName,\r\n            lastName:response.profileObj.familyName,\r\n            email:response.profileObj.email,\r\n        }));\r\n\r\n    }\r\n\r\n    render(){\r\n        let passwordclasses=\"\";\r\n        let passwordMess=\"\";\r\n        if (!this.state.MatchingPasswords){\r\n             passwordclasses = \"error-password\"\r\n             passwordMess = \"password-messages\"\r\n            }else {\r\n            passwordclasses = \"inputs-singup\"\r\n            passwordMess = \"password-messages disply\"\r\n        }\r\n        console.log(passwordMess);\r\n        // let passwordclasses = !this.state.MatchingPasswords ? \" error-password\" : \"inputs-singup\"  \r\n        // let x = 1 \r\n        return (<div className= \"container-registration\">\r\n\r\n                <div className = \"head-registration\">\r\n                    <h4>שמחים להכיר </h4>\r\n                </div>\r\n                <div className = \"registration-form\">\r\n                    <input className=\"inputs-singup\" id=\"firstName\" type='text' \r\n                            placeholder={\"שם פרטי\"} value={this.state.firstName }\r\n                            onChange={this.handleChange} onKeyUp={this.onRegistration}>\r\n                    </input>\r\n\r\n                    <input className=\"inputs-singup\" id=\"lastName\" type='text' \r\n                            placeholder={\"שם משפחה\"} value={this.state.lastName } \r\n                            onChange={this.handleChange} onKeyUp={this.onRegistration}>\r\n                    </input>\r\n\r\n                    <input className=\"inputs-singup\" id=\"phone\" type='text' \r\n                            placeholder={\"טלפון סלולרי\"} value={this.state.phone } \r\n                            onChange={this.handleChange} onKeyUp={this.onRegistration}>\r\n                    </input>\r\n\r\n                    <input className=\"inputs-singup\" id=\"email\" type='text' \r\n                            placeholder={\"מייל\"} value={this.state.email }\r\n                            onChange={this.handleChange} onKeyUp={this.onRegistration}>\r\n                    </input>\r\n\r\n                    <div className = \"password-cont\" >\r\n\r\n                        <input className={passwordclasses} id=\"password1\" type='password' \r\n                                placeholder={\"סיסמה\"} value={this.state.password1 }\r\n                                onChange={this.handleChange} onKeyUp={this.onRegistration}>\r\n                        </input>\r\n\r\n                        <input className={passwordclasses} id=\"password2\" type='password' \r\n                                placeholder={\"סיסמה\"} value={this.state.password2 }\r\n                                onChange={this.handleChange} onKeyUp={this.onRegistration}>\r\n                        </input>\r\n\r\n                        <p className = {passwordMess} > הסיסמה לא זהה </p>\r\n                    </div>\r\n                    <Select/>\r\n\r\n                    <button className=\"action-btn\" onClick={this.onRegistration} >הרשם</button>\r\n\r\n                </div>\r\n        </div>)\r\n    }\r\n\r\n} \r\nconst mapStateToProps = state => ({\r\n    loggedInUser: state.user.loggedInUser,\r\n    clubs: state.user.clubs,\r\n  });\r\n\r\nconst mapDispatchToProps = {\r\n    signup,\r\n    getClubsList,\r\n  };\r\n  \r\nexport default  withRouter(connect(mapStateToProps, mapDispatchToProps)(Registration))\r\n\r\n"]},"metadata":{},"sourceType":"module"}