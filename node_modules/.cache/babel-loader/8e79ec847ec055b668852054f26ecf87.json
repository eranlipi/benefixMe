{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\eranl\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\benefixMe\\\\frontend\\\\src\\\\pages\\\\LogIn.js\";\nimport '../style/css/LogIn.css';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { login } from '../actions/UserAction';\nimport '../style/css/Registration.css'; // import '../style/css/Registration.css'\n\nclass LogIn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n\n    this.handleChange = async event => {\n      if (event.key !== 'Enter') {\n        switch (event.target.id) {\n          case \"email\":\n            this.setState({\n              email: event.target.value\n            });\n            break;\n\n          case \"password\":\n            this.setState({\n              password: event.target.value\n            });\n            break;\n\n          default:\n        }\n      }\n    };\n\n    this.onLogin = async event => {\n      if (event.key === 'Enter' || event.type === 'click') {\n        let userString = JSON.stringify(this.state);\n        const user = JSON.parse(userString); //    console.log(user) \n        // delete user.modalIsOpen;\n\n        if (user.email && user.password) {\n          await this.props.login(user);\n          await this.isLogInSecc(user);\n        }\n      }\n    };\n\n    this.isLogInSecc = user => {\n      if (this.props.loggedInUser) {\n        console.log(\"user->\", user);\n        this.props.history.push(`/`);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logIn-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        dir: \"rtl\",\n        className: \"inputs\",\n        id: \"email\",\n        type: \"text\",\n        placeholder: \"שם משתמש\",\n        value: this.state.firstName,\n        onChange: this.handleChange,\n        onKeyUp: this.onLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        dir: \"rtl\",\n        className: \"inputs\",\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"סיסמה\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        onKeyUp: this.onLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn\",\n        onClick: this.onLogin,\n        children: \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loggedInUser: state.user.loggedInUser\n});\n\nconst mapDispatchToProps = {\n  login\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LogIn));","map":{"version":3,"sources":["C:/Users/eranl/OneDrive/שולחן העבודה/benefixMe/frontend/src/pages/LogIn.js"],"names":["React","Component","withRouter","connect","login","LogIn","state","email","password","handleChange","event","key","target","id","setState","value","onLogin","type","userString","JSON","stringify","user","parse","props","isLogInSecc","loggedInUser","console","log","history","push","render","firstName","mapStateToProps","mapDispatchToProps"],"mappings":";;AAAA,OAAO,wBAAP;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,QAAsB,uBAAtB;AACA,OAAO,+BAAP,C,CAGA;;AAEC,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAAA;AAAA;AAAA,SAE3BK,KAF2B,GAErB;AACFC,MAAAA,KAAK,EAAC,EADJ;AAEFC,MAAAA,QAAQ,EAAC;AAFP,KAFqB;;AAAA,SAO3BC,YAP2B,GAOZ,MAAMC,KAAN,IAAe;AAC1B,UAAIA,KAAK,CAACC,GAAN,KAAc,OAAlB,EAA2B;AAEvB,gBAAOD,KAAK,CAACE,MAAN,CAAaC,EAApB;AACI,eAAK,OAAL;AACG,iBAAKC,QAAL,CAAc;AAAEP,cAAAA,KAAK,EAAEG,KAAK,CAACE,MAAN,CAAaG;AAAtB,aAAd;AACH;;AAEA,eAAK,UAAL;AACI,iBAAKD,QAAL,CAAc;AAAEN,cAAAA,QAAQ,EAAEE,KAAK,CAACE,MAAN,CAAaG;AAAzB,aAAd;AACJ;;AACA;AARJ;AAWH;AAEJ,KAvB0B;;AAAA,SAyB3BC,OAzB2B,GAyBjB,MAAMN,KAAN,IAAe;AACrB,UAAIA,KAAK,CAACC,GAAN,KAAc,OAAd,IAAyBD,KAAK,CAACO,IAAN,KAAe,OAA5C,EAAqD;AACjD,YAAKC,UAAU,GAAIC,IAAI,CAACC,SAAL,CAAe,KAAKd,KAApB,CAAnB;AACA,cAAOe,IAAI,GAAIF,IAAI,CAACG,KAAL,CAAWJ,UAAX,CAAf,CAFiD,CAGrD;AACI;;AACA,YAAIG,IAAI,CAACd,KAAL,IAAcc,IAAI,CAACb,QAAvB,EAAkC;AAChC,gBAAM,KAAKe,KAAL,CAAWnB,KAAX,CAAiBiB,IAAjB,CAAN;AACA,gBAAM,KAAKG,WAAL,CAAiBH,IAAjB,CAAN;AACD;AAGJ;AACJ,KAtC0B;;AAAA,SAuC3BG,WAvC2B,GAuCbH,IAAD,IAAQ;AACjB,UAAG,KAAKE,KAAL,CAAWE,YAAd,EAA2B;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBN,IAArB;AACA,aAAKE,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAyB,GAAzB;AACH;AAEJ,KA7C0B;AAAA;;AA+C3BC,EAAAA,MAAM,GAAE;AACJ,wBACQ;AAAK,MAAA,SAAS,EAAG,YAAjB;AAAA,8BACA;AAAO,QAAA,GAAG,EAAC,KAAX;AAAiB,QAAA,SAAS,EAAC,QAA3B;AAAoC,QAAA,EAAE,EAAC,OAAvC;AAA+C,QAAA,IAAI,EAAC,MAApD;AACQ,QAAA,WAAW,EAAE,UADrB;AACiC,QAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWyB,SADnD;AAEQ,QAAA,QAAQ,EAAE,KAAKtB,YAFvB;AAEqC,QAAA,OAAO,EAAE,KAAKO;AAFnD;AAAA;AAAA;AAAA;AAAA,cADA,eAMA;AAAO,QAAA,GAAG,EAAC,KAAX;AAAiB,QAAA,SAAS,EAAC,QAA3B;AAAoC,QAAA,EAAE,EAAC,UAAvC;AAAkD,QAAA,IAAI,EAAC,UAAvD;AACQ,QAAA,WAAW,EAAE,OADrB;AAC8B,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWE,QADhD;AAEQ,QAAA,QAAQ,EAAE,KAAKC,YAFvB;AAEqC,QAAA,OAAO,EAAE,KAAKO;AAFnD;AAAA;AAAA;AAAA;AAAA,cANA,eAWA;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAA+B,QAAA,OAAO,EAAE,KAAKA,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXA;AAAA;AAAA;AAAA;AAAA;AAAA,YADR;AAgBH;;AAhE0B;;AAoE/B,MAAMgB,eAAe,GAAG1B,KAAK,KAAK;AAC9BmB,EAAAA,YAAY,EAAEnB,KAAK,CAACe,IAAN,CAAWI;AADK,CAAL,CAA7B;;AAIA,MAAMQ,kBAAkB,GAAG;AACvB7B,EAAAA;AADuB,CAA3B;AAIE,eAAgBF,UAAU,CAACC,OAAO,CAAC6B,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C5B,KAA7C,CAAD,CAA1B","sourcesContent":["import '../style/css/LogIn.css'\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../actions/UserAction';\r\nimport '../style/css/Registration.css';\r\n\r\n\r\n// import '../style/css/Registration.css'\r\n\r\n class LogIn extends Component {\r\n\r\n    state={\r\n        email:\"\",\r\n        password:\"\"\r\n    }\r\n\r\n    handleChange = async event => {\r\n        if (event.key !== 'Enter') {\r\n\r\n            switch(event.target.id) {\r\n                case \"email\":\r\n                   this.setState({ email: event.target.value });\r\n                break;\r\n\r\n                case \"password\":\r\n                    this.setState({ password: event.target.value });\r\n                break;\r\n                default:\r\n\r\n              }\r\n        }\r\n\r\n    };\r\n\r\n    onLogin = async event => {\r\n        if (event.key === 'Enter' || event.type === 'click') {\r\n            let  userString  = JSON.stringify(this.state);\r\n            const  user  = JSON.parse(userString);\r\n        //    console.log(user) \r\n            // delete user.modalIsOpen;\r\n            if (user.email && user.password ) {\r\n              await this.props.login(user);\r\n              await this.isLogInSecc(user)\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n    isLogInSecc =(user)=>{\r\n        if(this.props.loggedInUser){\r\n            console.log(\"user->\",user)\r\n            this.props.history.push(`/`);\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n                <div className = \"logIn-form\">\r\n                <input dir=\"rtl\" className=\"inputs\" id=\"email\" type='text' \r\n                        placeholder={\"שם משתמש\"} value={this.state.firstName }\r\n                        onChange={this.handleChange} onKeyUp={this.onLogin}>\r\n                </input>\r\n                \r\n                <input dir=\"rtl\" className=\"inputs\" id=\"password\" type='password' \r\n                        placeholder={\"סיסמה\"} value={this.state.password }\r\n                        onChange={this.handleChange} onKeyUp={this.onLogin}>\r\n                </input>\r\n\r\n                <button className=\"action-btn\" onClick={this.onLogin} >התחבר</button> \r\n\r\n             </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedInUser: state.user.loggedInUser,\r\n  });\r\n\r\nconst mapDispatchToProps = {\r\n    login,\r\n  };\r\n\r\n  export default  withRouter(connect(mapStateToProps, mapDispatchToProps)(LogIn));\r\n"]},"metadata":{},"sourceType":"module"}