{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\eranl\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\benefixMe\\\\frontend\\\\src\\\\pages\\\\CouponApp.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { getByTitle, setFilter } from '../actions/FilterActions';\nimport CardList from '../cmp/CardList';\nimport Search from '../cmp/Search';\nimport TabMenu from '../cmp/TabMenu'; // import {  getByTitle } from '../actions/FilterActions.js'\n\nimport '../style/css/couponApp.css';\nimport '../style/css/cardList.css';\nexport class CouponApp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchWord: \"\"\n    };\n\n    this.resetFilterDefinitions = async () => {\n      await this.props.setFilter(\"\");\n    };\n  }\n\n  async componentDidMount() {\n    console.log(\"componentDidMount->>>>\");\n    window.scrollTo(0, 10);\n\n    if (this.props.location.pathname.includes('results')) {\n      console.log(\"componentDidMount->>>> AFTER IF \");\n      const results = this.props.location.pathname;\n      const word = results.split(\"/\");\n      console.log(\"results\", word[3]);\n      this.setState({\n        searchWord: word[3]\n      });\n      await this.props.getByTitle(word[3]);\n    }\n  }\n\n  async componentWillUnmount() {\n    await this.resetFilterDefinitions();\n  }\n\n  render() {\n    // console.log(\"state\",this.state.searchWord)\n    let word = this.state.searchWord !== \"\" ? \"\" : this.state.searchWord;\n    const isUrl = this.props.location.pathname.includes('results');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coupon-page\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        textSearch: word\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"coupons\",\n        children: isUrl && /*#__PURE__*/_jsxDEV(CardList, {\n          coupons: this.props.coupons.coupons\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  coupons: state.coupons,\n  filter: state.coupons.filter\n});\n\nconst mapDispatchToProps = {\n  getByTitle,\n  setFilter\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CouponApp));","map":{"version":3,"sources":["C:/Users/eranl/OneDrive/שולחן העבודה/benefixMe/frontend/src/pages/CouponApp.js"],"names":["React","Component","connect","withRouter","getByTitle","setFilter","CardList","Search","TabMenu","CouponApp","state","searchWord","resetFilterDefinitions","props","componentDidMount","console","log","window","scrollTo","location","pathname","includes","results","word","split","setState","componentWillUnmount","render","isUrl","coupons","mapStateToProps","filter","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,0BAAtC;AAEA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,OAAP,MAAoB,gBAApB,C,CACA;;AACA,OAAO,4BAAP;AACA,OAAO,2BAAP;AAGA,OAAO,MAAMC,SAAN,SAAwBR,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAEvCS,KAFuC,GAEjC;AACJC,MAAAA,UAAU,EAAC;AADP,KAFiC;;AAAA,SAsBvCC,sBAtBuC,GAsBd,YAAY;AACnC,YAAM,KAAKC,KAAL,CAAWR,SAAX,CAAqB,EAArB,CAAN;AACD,KAxBsC;AAAA;;AAKvC,QAAMS,iBAAN,GAA0B;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,EAAnB;;AACA,QAAI,KAAKL,KAAL,CAAWM,QAAX,CAAoBC,QAApB,CAA6BC,QAA7B,CAAsC,SAAtC,CAAJ,EAAsD;AACpDN,MAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACA,YAAMM,OAAO,GAAG,KAAKT,KAAL,CAAWM,QAAX,CAAoBC,QAApC;AACA,YAAMG,IAAI,GAAGD,OAAO,CAACE,KAAR,CAAc,GAAd,CAAb;AAEAT,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBO,IAAI,CAAC,CAAD,CAA3B;AACA,WAAKE,QAAL,CAAc;AAACd,QAAAA,UAAU,EAACY,IAAI,CAAC,CAAD;AAAhB,OAAd;AACA,YAAM,KAAKV,KAAL,CAAWT,UAAX,CAAsBmB,IAAI,CAAC,CAAD,CAA1B,CAAN;AACD;AACF;;AAED,QAAMG,oBAAN,GAA6B;AAC3B,UAAM,KAAKd,sBAAL,EAAN;AACD;;AAIDe,EAAAA,MAAM,GAAG;AACP;AACA,QAAIJ,IAAI,GAAI,KAAKb,KAAL,CAAWC,UAAX,KAA0B,EAA1B,GAA+B,EAA/B,GAAmC,KAAKD,KAAL,CAAWC,UAA1D;AACA,UAAMiB,KAAK,GAAG,KAAKf,KAAL,CAAWM,QAAX,CAAoBC,QAApB,CAA6BC,QAA7B,CAAsC,SAAtC,CAAd;AACA,wBACE;AAAK,MAAA,SAAS,EAAG,aAAjB;AAAA,8BACE,QAAC,MAAD;AAAS,QAAA,UAAU,EAAEE;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAFF,eAIE;AAAK,QAAA,SAAS,EAAG,SAAjB;AAAA,kBACGK,KAAK,iBAAI,QAAC,QAAD;AAAU,UAAA,OAAO,EAAE,KAAKf,KAAL,CAAWgB,OAAX,CAAmBA;AAAtC;AAAA;AAAA;AAAA;AAAA;AADZ;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AAxCsC;;AA4CzC,MAAMC,eAAe,GAAGpB,KAAK,KAAK;AAChCmB,EAAAA,OAAO,EAAEnB,KAAK,CAACmB,OADiB;AAEhCE,EAAAA,MAAM,EAAErB,KAAK,CAACmB,OAAN,CAAcE;AAFU,CAAL,CAA7B;;AAMA,MAAMC,kBAAkB,GAAG;AACzB5B,EAAAA,UADyB;AAEzBC,EAAAA;AAFyB,CAA3B;AAKA,eAAeF,UAAU,CAACD,OAAO,CAAC4B,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CvB,SAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { getByTitle, setFilter } from '../actions/FilterActions';\r\n\r\nimport CardList from '../cmp/CardList'\r\nimport Search from '../cmp/Search'\r\nimport TabMenu from '../cmp/TabMenu'\r\n// import {  getByTitle } from '../actions/FilterActions.js'\r\nimport '../style/css/couponApp.css'\r\nimport '../style/css/cardList.css'\r\n\r\n\r\nexport class CouponApp extends Component {\r\n\r\n  state={\r\n    searchWord:\"\"\r\n  }\r\n  async componentDidMount() {\r\n    console.log(\"componentDidMount->>>>\")\r\n    window.scrollTo(0, 10)\r\n    if (this.props.location.pathname.includes('results')) {\r\n      console.log(\"componentDidMount->>>> AFTER IF \")\r\n      const results = this.props.location.pathname;\r\n      const word = results.split(\"/\")\r\n\r\n      console.log(\"results\", word[3])\r\n      this.setState({searchWord:word[3]})\r\n      await this.props.getByTitle(word[3]);\r\n    }\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    await this.resetFilterDefinitions();\r\n  }\r\n  resetFilterDefinitions = async () => {\r\n    await this.props.setFilter(\"\");\r\n  }\r\n  render() {\r\n    // console.log(\"state\",this.state.searchWord)\r\n    let word =  this.state.searchWord !== \"\" ? \"\" :this.state.searchWord \r\n    const isUrl = this.props.location.pathname.includes('results')\r\n    return (\r\n      <div className = \"coupon-page\">\r\n        <Search  textSearch={word}/>\r\n        <TabMenu></TabMenu>\r\n        {/* <div className=\"line-bar\"></div> */}\r\n        <div className = \"coupons\">\r\n          {isUrl && <CardList coupons={this.props.coupons.coupons}></CardList>}\r\n        \r\n        </div>\r\n\r\n      </div>)\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  coupons: state.coupons,\r\n  filter: state.coupons.filter,\r\n  \r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getByTitle,\r\n  setFilter,\r\n\r\n};\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CouponApp))"]},"metadata":{},"sourceType":"module"}