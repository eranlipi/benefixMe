{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\eranl\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\benefixMe\\\\frontend\\\\src\\\\pages\\\\Profile.js\";\nimport '../style/css/Profile.css';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport userImg from \"../style/img/user-img.png\";\nimport Select from '../cmp/Select';\nimport { getUserLoggedIn, addSelectedClubs, saveUser } from '../actions/UserAction.js';\nimport UserService from '../services/UserService';\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      clubs: [],\n      selectedClubs: []\n    };\n\n    this.onSave = async () => {\n      let {\n        user\n      } = this.state;\n      user.selectedClubs = this.props.selectedClubs;\n      console.log(\"user\", user);\n      const resSave = await this.props.saveUser(JSON.stringify(user));\n      await console.log(\"resSave -> onSave -> \", resSave); //  if (resSave.status === \"OK\" ){\n\n      this.props.history.push(`/`); //  }\n      // UserService.saveEditedUser(user)\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.getUserLoggedIn();\n    let user = JSON.parse(this.props.loggedInUser);\n    this.setState({\n      user: user\n    });\n  }\n\n  render() {\n    console.log(\"state\", this.state);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-prof-cont\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prof-cont\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"user-img\",\n          src: userImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs\",\n          id: \"inputs\",\n          type: \"text\",\n          placeholder: \"שם משתמש\",\n          value: this.state.user.firstName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs\",\n          id: \"inputs\",\n          type: \"text\",\n          placeholder: \"שם משפחה\",\n          value: this.state.user.lastName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs\",\n          id: \"inputs\",\n          type: \"text\",\n          placeholder: \"טלפון נייד\",\n          value: this.state.user.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), this.state.user.phone && /*#__PURE__*/_jsxDEV(Select, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 47\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn\",\n          onClick: this.onSave,\n          children: \"\\u05E9\\u05DE\\u05D5\\u05E8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loggedInUser: state.user.loggedInUser,\n  coupons: state.coupons,\n  selectedClubs: state.user.selectedClubs\n});\n\nconst mapDispatchToProps = {\n  getUserLoggedIn,\n  addSelectedClubs,\n  saveUser\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Profile));","map":{"version":3,"sources":["C:/Users/eranl/OneDrive/שולחן העבודה/benefixMe/frontend/src/pages/Profile.js"],"names":["React","Component","withRouter","connect","userImg","Select","getUserLoggedIn","addSelectedClubs","saveUser","UserService","Profile","state","user","clubs","selectedClubs","onSave","props","console","log","resSave","JSON","stringify","history","push","componentDidMount","parse","loggedInUser","setState","render","firstName","lastName","phone","mapStateToProps","coupons","mapDispatchToProps"],"mappings":"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","sourcesContent":["import '../style/css/Profile.css';\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport userImg from \"../style/img/user-img.png\"\r\nimport Select from '../cmp/Select'\r\nimport { getUserLoggedIn,addSelectedClubs,saveUser} from '../actions/UserAction.js'\r\nimport UserService from '../services/UserService'\r\n\r\nclass Profile extends Component {\r\n    state ={\r\n        user:{},\r\n        clubs:[],\r\n        selectedClubs:[]\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.getUserLoggedIn()\r\n        let user = JSON.parse(this.props.loggedInUser)\r\n        this.setState({user:user})\r\n\r\n    }\r\n\r\n    onSave = async ()=>{\r\n        let {user}= this.state\r\n        user.selectedClubs = this.props.selectedClubs\r\n        console.log(\"user\",user);\r\n        const resSave =await  this.props.saveUser(JSON.stringify(user)) \r\n        await console.log(\"resSave -> onSave -> \",resSave)\r\n        //  if (resSave.status === \"OK\" ){\r\n            this.props.history.push(`/`);\r\n        //  }\r\n        // UserService.saveEditedUser(user)\r\n         \r\n    }\r\n\r\n    render() {\r\n        console.log(\"state\",this.state)\r\n        return (\r\n            <div className=\"main-prof-cont\">\r\n                <div className=\"prof-cont\">\r\n                    <img className=\"user-img\" src={userImg}></img>\r\n                    <input className=\"inputs\" id=\"inputs\" type='text' \r\n                        placeholder={\"שם משתמש\"} value={this.state.user.firstName}>\r\n                    </input>\r\n                    <input className=\"inputs\" id=\"inputs\" type='text' \r\n                        placeholder={\"שם משפחה\"} value={this.state.user.lastName}>\r\n                    </input>\r\n                    <input className=\"inputs\" id=\"inputs\" type='text' \r\n                        placeholder={\"טלפון נייד\"} value={this.state.user.phone}>\r\n                    </input>\r\n                    {this.state.user.phone && <Select/>}\r\n                    <button className=\"action-btn\" onClick={this.onSave} >שמור</button> \r\n\r\n\r\n                </div>\r\n            </div>\r\n            )\r\n        }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedInUser: state.user.loggedInUser,\r\n    coupons: state.coupons,\r\n    selectedClubs: state.user.selectedClubs,\r\n  });\r\n  const mapDispatchToProps = {\r\n    getUserLoggedIn,\r\n    addSelectedClubs,\r\n    saveUser,\r\n\r\n  };\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps) (Profile))"]},"metadata":{},"sourceType":"module"}